x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=q20,
array=q80 - expected_infecting_days)
)
aux
df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
ggplot(aes(x=interaction(num_antigen, num_pcr), y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80))
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2), 2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep='')) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=q20,
array=q80 - expected_infecting_days)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2), 2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep='')) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=q20 - expected_infecting_days,
array=q80 - expected_infecting_days)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2), 2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep='')) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=expected_infecting_days - q20,
array=q80 - expected_infecting_days)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 3)),
q20 = first(round(infecting_days_0.2), 3)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep='')) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=expected_infecting_days - q20,
array=q80 - expected_infecting_days)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 5)),
q80 = first(round(infecting_days_0.8, 5)),
q20 = first(round(infecting_days_0.2), 5)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep='')) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus=expected_infecting_days - q20,
array=q80 - expected_infecting_days)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 5)),
q80 = first(round(infecting_days_0.8, 5)),
q20 = first(round(infecting_days_0.2), 5)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error)
)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 5)),
q80 = first(round(infecting_days_0.8, 5)),
q20 = first(round(infecting_days_0.2), 5)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days)
aux
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error)
)
aux
df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
ggplot(aes(x=interaction(num_antigen, num_pcr), y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80))
df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budge_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80))
df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80))
df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
df %>%
arrange(expected_infecting_days, expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
aux = df %>%
arrange(expected_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error)
)
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error)
)
aux
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2))
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))%>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))
# Read Data
df = read.csv('data/results_23_05_2.csv')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days)
# Read Data
df = read.csv('data/results_23_05_2.csv')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))
# Read Data
df = read.csv('data/results_19_05_1.csv')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days))
# Plot 4: Frontier for all budgets together
pareto_df = read.csv('data/pareto_points_23_05_2.csv')
pareto_df %>%
mutate(Policy_Budget = paste('Antigen: ', num_antigen, '- PCR: ', num_pcr),
num_a = paste('Antigen:', num_antigen),
num_p = paste('PCR:', num_pcr)) %>%
plot_ly(text = ~paste('num_A = ', num_antigen, ', num_P = ', num_pcr, '\n',
'pi_A = ', antigen_days, '\n',
'pi_P = ', pcr_days),
x = ~expected_infecting_days,
y = ~expected_non_infecting_days,
color = ~Policy_Budget,
mode = 'lines+markers',
marker = list(size=8),
line = list(shape='hv')
)
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
# Read Data
df = read.csv('data/results_23_05_1.csv')
# Read Data
df = read.csv('data/results_23_05_2.csv')
df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(expected_infecting_days),
q80 = first(infecting_days_0.8),
q20 = first(infecting_days_0.2),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
ggplot(aes(x=budget_policy, y=expected_infecting_days)) +
geom_point() +
geom_errorbar(aes(ymin=q20, ymax=q80)) +
xlab('(# Antigen, # PCR)')
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error)
)
aux
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 2)
)
aux
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 10)
)
aux
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2))) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
text = paste('A: ', antigen_days, ', P: ', pcr_days),
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 10)
)
aux
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2)),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
text = paste('A: ', antigen_days, ', P: ', pcr_days),
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 10)
)
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2)),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
text = paste('A: ', antigen_days, ', P: ', pcr_days),
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 10)
)
aux = df %>%
arrange(expected_infecting_days, -expected_non_infecting_days) %>%
group_by(num_antigen, num_pcr) %>%
summarize(expected_infecting_days = first(round(expected_infecting_days, 2)),
q80 = first(round(infecting_days_0.8, 2)),
q20 = first(round(infecting_days_0.2, 2)),
antigen_days = first(antigen_days),
pcr_days = first(pcr_days)) %>%
mutate(budget_policy = paste('(', num_antigen, ', ', num_pcr, ')', sep=''),
lower_error = expected_infecting_days - q20,
upper_error = q80 - expected_infecting_days) %>%
plot_ly(type = 'scatter',
text = ~paste('A: ', antigen_days, ', P: ', pcr_days),
x = ~budget_policy,
y = ~expected_infecting_days,
error_y = ~list(symmetric=FALSE,
arrayminus= lower_error,
array= upper_error,
width = 10)
)
aux
